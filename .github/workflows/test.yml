name: Test

on:
  workflow_dispatch:
  
jobs:
  test_a:
    runs-on: ubuntu-latest
    steps:
      - id: build
        run: echo "::set-output name=startDate::$(date)"
      - id: end
        run: echo "::set-output name=endDate::$(date)"
      - id: duration
        run: |
          startTime=$(date -d "${{ steps.build.outputs.startDate }}" +%s)
          endTime=$(date -d "${{ steps.end.outputs.endDate }}" +%s)
          diffSeconds=$(($endTime-$startTime+10))
          diffTime=$(date -d @${diffSeconds} +"%H:%M:%S" -u)
          echo "::set-output name=duration::$diffTime"
      - run: echo ${{ steps.duration.outputs.duration }}
      
  #test_b:
  #  needs: test_a
  #  if: always()
  #  runs-on: ubuntu-latest
  #  steps:
  #    - run: echo "${{ needs.test_a.result }}"
      
  #test_c:
  #  needs: [test_a,test_b]
  #  runs-on: ubuntu-latest
  #  steps:
  #    - run: |
  #        echo b
  #        echo ${{ needs.test_a.result }}
  #        echo ${{ needs.test_b.result }}
      
  #test_d:
  #  needs: [test_a,test_b,test_c]
  #  if: always()
  #  runs-on: ubuntu-latest
  #  steps:
  #    - run: |
  #        echo b
  #        echo ${{ needs.test_a.result }}
  #        echo ${{ needs.test_b.result }}
  #        echo ${{ needs.test_c.result }}